# **The Link/Data Link Layer**

One of the most important rules for transferring data from one place to another is identifying the device to which we want to send that data. The protocols operating at this layer are primarily concerned with the identification of devices on the physical network and moving data over the physical network between the devices that comprise it, such as hosts (e.g. computers), switches, and routers.

Within the OSI model, the Data Link layer is Layer 2 and comes in between the Physical layer (1) and the Network layer (3). Within the Internet Protocol Suite, the Link layer is layer 1, since this model doesn't define a specific layer for the physical network. 

We can think of what happens at this layer as an interface between the workings of the physical network and the more logical layers above.

The `Ethernet protocol` is the most commonly used at this layer. The technical specification of Ethernet cables is governed by the sam IEEE standards that include Ethernet communication protocols that operate at this layer of the network.

Two of the most important aspects of Ethernet are `framing` and `addressing`

## *Ethernet Frames*

Ethernet Frames are a `Protocol Data Unit (PDU)`, they encapsulate data from the Internet/Network layer above. *The Link/ Data Link layer is the lowest layer at which encapsulation takes place*. At the physical layer, the data is essentially a stream of bits in one form or another without any logical structure. An Ethernet Frame adds logical structure to this binary data. *The data in the frame is still in the form of bits, but the structure defines which bits are actually the data payload, and which are metadata to be used in the process of transporting the frame.*

- Preamble and SFD: 
The Preamble and Start of Frame Delimiter (SFD/ SOF) generally aren't considered part of the actual frame but are sent just prior to the frame as a synchronization measure which notifies the receiving device to expect frame data and then identify the start point of that data. The preamble is seven bytes (56 bits) long and the SFD is one byte (eight bits). Both use a repeated pattern that can be recognised by the receiving device, which then knows that the data following after is the frame data.

- Source and Destination MAC address:
The next two fields, each six bytes (48 bits) long, are the source and destination MAC addresses. The source address is the address of the device which created the frame. The destination MAC address is the address of the device for which the data is ultimately intended. MAC Addresses are a key part of the Ethernet protocol.

- Length:
The next field is two bytes (16 bits) in length. It is used to indicate the size of the Data Payload.

- DSAP, SSAP, Control:
The next three fields are all one byte (8 bits) in length. The DSAP and SSAP fields identify the Network Protocol used for the Data Payload. The Control field provides information about the specific communication mode for the frame, which helps facilitate flow control.

- Data Payload: 
The data payload field can be between 42 and 1497 bytes in length. It contains the data for the entire Protocol Data Unit (PDU) from the layer above, an IP Packet for example.

- Frame Check Sequence (FCS):
The final four bytes (32 bits) of an Ethernet Frame is the Frame Check Sequence. This is a checksum generated by the device which creates the frame. It is calculated from the frame data using an algorithm such as a cyclic redundancy check. The receiving device uses the same algorithm to generate a FCS and then compares this to the FCS in the sent frame. If the two don't match, then the frame is dropped. Ethernet doesn't implement any kind of retransmission functionality for dropped frames; it is the responsibility of higher level protocols to manage retransmission of lost data if this is a requirement of the protocol.

### Interframe Gap (IFG)
As well as using the Preamble and SFD to prepare a receiving device to process the frame data, Ethernet also specifies an interframe gap (IFG). This gap is a brief pause between the transmission of each frame, which permits the receiver to prepare to receive the next frame. The length of this gap varies according to the capability of the Ethernet connection. For example, for 100 Mbps Ethernet the gap is 0.96 microseconds (or just under one millionth of a second).

This Interframe gap contributes to the Transmission Delay element of latency.

### MAC Addresses

Every network-enabled device, e.g. a Network Interface Card (NIC) that you would find in a PC or laptop, is assigned a MAC Address when it is manufactured. In theory, MAC addresses should be unique. In practice, this is not always the case, though it rarely presents a problem. Since this address is linked to the specific physical device, and (usually) doesn't change, it is sometimes referred to as the physical address or burned-in address. MAC Addresses are formatted as a sequence of six two-digit hexadecimal numbers, e.g. 00:40:96:9d:68:0a, with different ranges of addresses being assigned to different network hardware manufacturers.